var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(n)}function i(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}const a="undefined"!=typeof window;let l=a?()=>window.performance.now():()=>Date.now(),u=a?t=>requestAnimationFrame(t):t;const f=new Set;function d(t){f.forEach(e=>{e.c(t)||(f.delete(e),e.f())}),0!==f.size&&u(d)}function h(t){let e;return 0===f.size&&u(d),{promise:new Promise(n=>{f.add(e={c:t,f:n})}),abort(){f.delete(e)}}}function m(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode.removeChild(t)}function v(t){return document.createElement(t)}function $(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function x(t){return document.createTextNode(t)}function y(){return x(" ")}function E(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function b(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function w(t){return Array.from(t.childNodes)}function k(t,e,n,r){for(let r=0;r<t.length;r+=1){const o=t[r];if(o.nodeName===e){let e=0;for(;e<o.attributes.length;){const t=o.attributes[e];n[t.name]?e++:o.removeAttribute(t.name)}return t.splice(r,1)[0]}}return r?$(e):v(e)}function _(t,e){for(let n=0;n<t.length;n+=1){const r=t[n];if(3===r.nodeType)return r.data=""+e,t.splice(n,1)[0]}return x(e)}function A(t){return _(t," ")}function C(t,e){e=""+e,t.data!==e&&(t.data=e)}function S(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function N(t,e,n){t.classList[n?"add":"remove"](e)}let O,R,j=0,D={};function B(t,e,n,r,o,i,s,c=0){const a=16.666/r;let l="{\n";for(let t=0;t<=1;t+=a){const r=e+(n-e)*i(t);l+=100*t+`%{${s(r,1-r)}}\n`}const u=l+`100% {${s(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${c}`;if(!D[f]){if(!O){const t=v("style");document.head.appendChild(t),O=t.sheet}D[f]=!0,O.insertRule(`@keyframes ${f} ${u}`,O.cssRules.length)}const d=t.style.animation||"";return t.style.animation=`${d?`${d}, `:""}${f} ${r}ms linear ${o}ms 1 both`,j+=1,f}function T(t,e){t.style.animation=(t.style.animation||"").split(", ").filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")).join(", "),e&&!--j&&u(()=>{if(j)return;let t=O.cssRules.length;for(;t--;)O.deleteRule(t);D={}})}function M(t){R=t}const P=[],z=[],F=[],q=[],I=Promise.resolve();let L=!1;function U(t){F.push(t)}let J=!1;const G=new Set;function H(){if(!J){J=!0;do{for(let t=0;t<P.length;t+=1){const e=P[t];M(e),K(e.$$)}for(P.length=0;z.length;)z.pop()();for(let t=0;t<F.length;t+=1){const e=F[t];G.has(e)||(G.add(e),e())}F.length=0}while(P.length);for(;q.length;)q.pop()();L=!1,J=!1,G.clear()}}function K(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(U)}}let V;function Q(){return V||(V=Promise.resolve(),V.then(()=>{V=null})),V}function W(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const X=new Set;let Y;function Z(t,e){t&&t.i&&(X.delete(t),t.i(e))}function tt(t,e,n,r){if(t&&t.o){if(X.has(t))return;X.add(t),Y.c.push(()=>{X.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}const et={duration:0};function nt(t,e){tt(t,1,1,()=>{e.delete(t.key)})}function rt(t){t&&t.c()}function ot(t,e){t&&t.l(e)}function it(t,e,r){const{fragment:s,on_mount:c,on_destroy:a,after_update:l}=t.$$;s&&s.m(e,r),U(()=>{const e=c.map(n).filter(i);a?a.push(...e):o(e),t.$$.on_mount=[]}),l.forEach(U)}function st(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ct(t,e){-1===t.$$.dirty[0]&&(P.push(t),L||(L=!0,I.then(H)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function at(e,n,i,s,c,a,l=[-1]){const u=R;M(e);const f=n.props||{},d=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:c,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:r(),dirty:l};let h=!1;d.ctx=i?i(e,f,(t,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&c(d.ctx[t],d.ctx[t]=o)&&(d.bound[t]&&d.bound[t](o),h&&ct(e,t)),n}):[],d.update(),h=!0,o(d.before_update),d.fragment=!!s&&s(d.ctx),n.target&&(n.hydrate?d.fragment&&d.fragment.l(w(n.target)):d.fragment&&d.fragment.c(),n.intro&&Z(e.$$.fragment),it(e,n.target,n.anchor),H()),M(u)}class lt{$destroy(){st(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function ut(t){const e=t-1;return e*e*e+1}function ft(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function dt(n,r){let s,c,a,u,f,d,v,y,E,A,S,N=r[9].id+"",O=r[9].value+"";return{key:n,first:null,c(){s=$("g"),c=$("text"),a=x(N),u=x(" - "),f=x(O),this.h()},l(t){s=k(t,"g",{},1);var e=w(s);c=k(e,"text",{x:!0,y:!0},1);var n=w(c);a=_(n,N),u=_(n," - "),f=_(n,O),n.forEach(p),e.forEach(p),this.h()},h(){b(c,"x","50"),b(c,"y",d=20*r[11]+30),this.first=s},m(e,n){var o;g(e,s,n),m(s,c),m(c,a),m(c,u),m(c,f),A=!0,o=v=mt.call(null,s,r[9]),S=o&&i(o.destroy)?o.destroy:t},p(t,e){r=t,(!A||24&e)&&N!==(N=r[9].id+"")&&C(a,N),(!A||24&e)&&O!==(O=r[9].value+"")&&C(f,O),(!A||24&e&&d!==(d=20*r[11]+30))&&b(c,"y",d),v&&i(v.update)&&24&e&&v.update.call(null,r[9])},i(n){A||(U(()=>{E&&E.end(1),y||(y=function(n,r,o){let s,c,a=r(n,o),u=!1,f=0;function d(){s&&T(n,s)}function m(){const{delay:r=0,duration:o=300,easing:i=e,tick:m=t,css:g}=a||et;g&&(s=B(n,0,1,o,r,i,g,f++)),m(0,1);const p=l()+r,v=p+o;c&&c.abort(),u=!0,U(()=>W(n,!0,"start")),c=h(t=>{if(u){if(t>=v)return m(1,0),W(n,!0,"end"),d(),u=!1;if(t>=p){const e=i((t-p)/o);m(e,1-e)}}return u})}let g=!1;return{start(){g||(T(n),i(a)?(a=a(),Q().then(m)):m())},invalidate(){g=!1},end(){u&&(d(),u=!1)}}}(s,gt,{})),y.start()}),A=!0)},o(n){y&&y.invalidate(),E=function(n,r,s){let c,a=r(n,s),u=!0;const f=Y;function d(){const{delay:r=0,duration:i=300,easing:s=e,tick:d=t,css:m}=a||et;m&&(c=B(n,1,0,i,r,s,m));const g=l()+r,p=g+i;U(()=>W(n,!1,"start")),h(t=>{if(u){if(t>=p)return d(0,1),W(n,!1,"end"),--f.r||o(f.c),!1;if(t>=g){const e=s((t-g)/i);d(1-e,e)}}return u})}return f.r+=1,i(a)?Q().then(()=>{a=a(),d()}):d(),{end(t){t&&a.tick&&a.tick(1,0),u&&(c&&T(n,c),u=!1)}}}(s,r[5],{}),A=!1},d(t){t&&p(s),t&&E&&E.end(),S()}}}function ht(t){let e,n,r,i,s,a,l,u,f=[],d=new Map;const h=t[8].default,E=function(t,e,n,r){if(t){const o=c(t,e,n,r);return t[0](o)}}(h,t,t[7],null);let C=t[3][t[4]];const S=t=>t[9].id;for(let e=0;e<C.length;e+=1){let n=ft(t,C,e),r=S(n);d.set(r,f[e]=dt(r,n))}return{c(){e=v("h2"),n=x("Soup Prefence"),r=y(),E&&E.c(),i=y(),s=$("svg"),a=$("g");for(let t=0;t<f.length;t+=1)f[t].c();this.h()},l(t){e=k(t,"H2",{class:!0});var o=w(e);n=_(o,"Soup Prefence"),o.forEach(p),r=A(t),E&&E.l(t),i=A(t),s=k(t,"svg",{width:!0,height:!0,class:!0},1);var c=w(s);a=k(c,"g",{transform:!0},1),w(a).forEach(p);for(let t=0;t<f.length;t+=1)f[t].l(c);c.forEach(p),this.h()},h(){b(e,"class","svelte-1foc16u"),b(a,"transform",l="translate("+t[0]+", "+t[0]+")"),b(s,"width",t[1]),b(s,"height",t[2]),b(s,"class","svelte-1foc16u")},m(t,o){g(t,e,o),m(e,n),g(t,r,o),E&&E.m(t,o),g(t,i,o),g(t,s,o),m(s,a);for(let t=0;t<f.length;t+=1)f[t].m(s,null);u=!0},p(t,[e]){if(E&&E.p&&128&e&&E.p(c(h,t,t[7],null),function(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if("object"==typeof e.dirty){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}(h,t[7],e,null)),(!u||1&e&&l!==(l="translate("+t[0]+", "+t[0]+")"))&&b(a,"transform",l),24&e){const n=t[3][t[4]];Y={r:0,c:[],p:Y},f=function(t,e,n,r,o,i,s,c,a,l,u,f){let d=t.length,h=i.length,m=d;const g={};for(;m--;)g[t[m].key]=m;const p=[],v=new Map,$=new Map;for(m=h;m--;){const t=f(o,i,m),c=n(t);let a=s.get(c);a?r&&a.p(t,e):(a=l(c,t),a.c()),v.set(c,p[m]=a),c in g&&$.set(c,Math.abs(m-g[c]))}const x=new Set,y=new Set;function E(t){Z(t,1),t.m(c,u),s.set(t.key,t),u=t.first,h--}for(;d&&h;){const e=p[h-1],n=t[d-1],r=e.key,o=n.key;e===n?(u=e.first,d--,h--):v.has(o)?!s.has(r)||x.has(r)?E(e):y.has(o)?d--:$.get(r)>$.get(o)?(y.add(r),E(e)):(x.add(o),d--):(a(n,s),d--)}for(;d--;){const e=t[d];v.has(e.key)||a(e,s)}for(;h;)E(p[h-1]);return p}(f,e,S,1,t,n,d,s,nt,dt,null,ft),Y.r||o(Y.c),Y=Y.p}(!u||2&e)&&b(s,"width",t[1]),(!u||4&e)&&b(s,"height",t[2])},i(t){if(!u){Z(E,t);for(let t=0;t<C.length;t+=1)Z(f[t]);u=!0}},o(t){tt(E,t);for(let t=0;t<f.length;t+=1)tt(f[t]);u=!1},d(t){t&&p(e),t&&p(r),E&&E.d(t),t&&p(i),t&&p(s);for(let t=0;t<f.length;t+=1)f[t].d()}}}function mt(t,e){const n=t.querySelector("text");return n.style.fill="blue",{update(t){n.style.fill="purple"},destroy(){}}}function gt(t,{duration:e=500,delay:n=500}){return{duration:e,delay:n,easing:ut,tick:(e,n)=>{t.style.opacity=e}}}function pt(t,e,n){let{padding:r=0}=e,{r:o=0}=e,{width:i=280}=e,{height:s=280}=e,{data:c=[]}=e,{index:a=0}=e;let{$$slots:l={},$$scope:u}=e;return t.$set=t=>{"padding"in t&&n(0,r=t.padding),"r"in t&&n(6,o=t.r),"width"in t&&n(1,i=t.width),"height"in t&&n(2,s=t.height),"data"in t&&n(3,c=t.data),"index"in t&&n(4,a=t.index),"$$scope"in t&&n(7,u=t.$$scope)},[r,i,s,c,a,function(t,{duration:e=500}){return{duration:e,tick:(e,n)=>{const r=`translate(${n*i}, 0)`;t.setAttribute("transform",r)}}},o,u,l]}class vt extends lt{constructor(t){super(),at(this,t,pt,ht,s,{padding:0,r:6,width:1,height:2,data:3,index:4})}}function $t(e){let n,r,o,i,s,c,a,l,u,f,d,h,E,C,N,O,R,j,D,B,T;return{c(){n=v("figure"),r=$("svg"),o=$("g"),i=$("circle"),s=$("text"),c=x("New Data"),a=$("text"),l=x("Enter"),u=$("g"),f=$("circle"),d=$("text"),h=x("Existing Elements"),E=$("text"),C=x("Exit"),N=$("text"),O=x("Update"),R=y(),j=v("figcaption"),D=x("From Mike Bostock's Observable notebook\n    "),B=v("a"),T=x("Learn D3: Joins"),this.h()},l(t){n=k(t,"FIGURE",{class:!0});var e=w(n);r=k(e,"svg",{viewBox:!0},1);var m=w(r);o=k(m,"g",{transform:!0},1);var g=w(o);i=k(g,"circle",{class:!0,r:!0,style:!0},1),w(i).forEach(p),s=k(g,"text",{x:!0,y:!0,"text-anchor":!0},1);var v=w(s);c=_(v,"New Data"),v.forEach(p),a=k(g,"text",{x:!0,"text-anchor":!0},1);var $=w(a);l=_($,"Enter"),$.forEach(p),g.forEach(p),u=k(m,"g",{transform:!0},1);var x=w(u);f=k(x,"circle",{class:!0,r:!0,style:!0},1),w(f).forEach(p),d=k(x,"text",{x:!0,y:!0,"text-anchor":!0},1);var y=w(d);h=_(y,"Existing Elements"),y.forEach(p),E=k(x,"text",{x:!0,"text-anchor":!0},1);var b=w(E);C=_(b,"Exit"),b.forEach(p),x.forEach(p),N=k(m,"text",{class:!0,x:!0,dy:!0,"text-anchor":!0},1);var S=w(N);O=_(S,"Update"),S.forEach(p),m.forEach(p),R=A(e),j=k(e,"FIGCAPTION",{class:!0});var M=w(j);D=_(M,"From Mike Bostock's Observable notebook\n    "),B=k(M,"A",{href:!0,target:!0});var P=w(B);T=_(P,"Learn D3: Joins"),P.forEach(p),M.forEach(p),e.forEach(p),this.h()},h(){b(i,"class","enter svelte-1i9jilf"),b(i,"r","100"),S(i,"mix-blend-mode","multiply"),b(s,"x","-5"),b(s,"y","-100"),b(s,"text-anchor","middle"),b(a,"x","-70"),b(a,"text-anchor","middle"),b(o,"transform","translate(-50,0)"),b(f,"class","exit svelte-1i9jilf"),b(f,"r","100"),S(f,"mix-blend-mode","multiply"),b(d,"x","5"),b(d,"y","-100"),b(d,"text-anchor","middle"),b(E,"x","70"),b(E,"text-anchor","middle"),b(u,"transform","translate(50,0)"),b(N,"class","update svelte-1i9jilf"),b(N,"x","0"),b(N,"dy",".35em"),b(N,"text-anchor","middle"),b(r,"viewBox","-200 -120 400 240"),b(B,"href","https://observablehq.com/@d3/learn-d3-joins?collection=@d3/learn-d3"),b(B,"target","_blank"),b(j,"class","svelte-1i9jilf"),b(n,"class","svelte-1i9jilf")},m(t,e){g(t,n,e),m(n,r),m(r,o),m(o,i),m(o,s),m(s,c),m(o,a),m(a,l),m(r,u),m(u,f),m(u,d),m(d,h),m(u,E),m(E,C),m(r,N),m(N,O),m(n,R),m(n,j),m(j,D),m(j,B),m(B,T)},p:t,i:t,o:t,d(t){t&&p(n)}}}class xt extends lt{constructor(t){super(),at(this,t,null,$t,s,{})}}function yt(t){let e,n,r,i,s,c,a;return{c(){e=v("div"),n=v("button"),r=x("Russell"),i=y(),s=v("button"),c=x("Amelia"),this.h()},l(t){e=k(t,"DIV",{class:!0});var o=w(e);n=k(o,"BUTTON",{class:!0});var a=w(n);r=_(a,"Russell"),a.forEach(p),i=A(o),s=k(o,"BUTTON",{class:!0});var l=w(s);c=_(l,"Amelia"),l.forEach(p),o.forEach(p),this.h()},h(){b(n,"class","svelte-15inf6z"),N(n,"active","Russell"===t[0]),b(s,"class","svelte-15inf6z"),N(s,"active","Amelia"===t[0]),b(e,"class","toggle svelte-15inf6z")},m(o,l){g(o,e,l),m(e,n),m(n,r),m(e,i),m(e,s),m(s,c),a=[E(n,"click",t[4]),E(s,"click",t[4])]},p(t,e){1&e&&N(n,"active","Russell"===t[0]),1&e&&N(s,"active","Amelia"===t[0])},d(t){t&&p(e),o(a)}}}function Et(t){let e,n,r,o,i,s,c,a,l;const u=new xt({}),f=new vt({props:{data:t[3],padding:t[2],r:bt,index:t[1],$$slots:{default:[yt]},$$scope:{ctx:t}}});return{c(){e=v("section"),n=v("h1"),r=x("D3 Joins and Svelte"),o=y(),i=v("p"),s=x("Drink the Kool-Aid."),c=y(),rt(u.$$.fragment),a=y(),rt(f.$$.fragment),this.h()},l(t){e=k(t,"SECTION",{id:!0,class:!0});var l=w(e);n=k(l,"H1",{class:!0});var d=w(n);r=_(d,"D3 Joins and Svelte"),d.forEach(p),o=A(l),i=k(l,"P",{});var h=w(i);s=_(h,"Drink the Kool-Aid."),h.forEach(p),l.forEach(p),c=A(t),ot(u.$$.fragment,t),a=A(t),ot(f.$$.fragment,t),this.h()},h(){b(n,"class","svelte-15inf6z"),b(e,"id","intro"),b(e,"class","svelte-15inf6z")},m(t,d){g(t,e,d),m(e,n),m(n,r),m(e,o),m(e,i),m(i,s),g(t,c,d),it(u,t,d),g(t,a,d),it(f,t,d),l=!0},p(t,[e]){const n={};2&e&&(n.index=t[1]),33&e&&(n.$$scope={dirty:e,ctx:t}),f.$set(n)},i(t){l||(Z(u.$$.fragment,t),Z(f.$$.fragment,t),l=!0)},o(t){tt(u.$$.fragment,t),tt(f.$$.fragment,t),l=!1},d(t){t&&p(e),t&&p(c),st(u,t),t&&p(a),st(f,t)}}}const bt=20;function wt(t,e,n){let r="Russell",o=0;return[r,o,.5*bt,[[{id:"Chili",value:2},{id:"Broccoli Cheddar",value:8},{id:"Clam Chowder",value:7}],[{id:"Chili",value:9},{id:"Broccoli Cheddar",value:6},{id:"French Onion",value:5}]],function(){n(0,r=this.innerText),n(1,o="Russell"===r?0:1)}]}const kt=new class extends lt{constructor(t){super(),at(this,t,wt,Et,s,{})}}({target:document.querySelector("main"),hydrate:!0});return kt}();
//# sourceMappingURL=bundle.js.map
