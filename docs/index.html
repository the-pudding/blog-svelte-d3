<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><link rel="stylesheet" href="assets/reset.css"><link rel="stylesheet" href="assets/global.css"><link rel="stylesheet" href="build/bundle.css"><title>Svelte Starter</title><!-- CSS --></head><body><main><section id="intro"><h1>Data Visualization with D3 and Svelte</h1><p>Russell Goldenberg and Amelia Wattenberger</p><time>May 2020</time><div><p>We think it is pretty neat. Come take a sip of the Kool-Aid.</p></div></section><section id="svelte"><h2>Svelte: What is it and why do we like it?</h2><p>This should be collapsed by default?</p><p>A video of all the cool stuff in action!</p><p>Some of my favorite easy to explain things that should be used to convince people:</p><ul><li>each svelte file is a component (html, css, js)</li><li>import other components, make child</li><li>scoped elements (simple css syntax)</li><li>pass props to components (reusable)</li><li>loops and conditionals</li><li>reactive statements</li><li>data stores</li></ul></section><section id="vis"><h2>Things in this space already</h2><p>LayerCake</p><p>Pancake</p><p>d3 hearts svelte talk</p><p>etc</p></section><section id="join"><h2>Joins and the update pattern</h2><p>One of the biggest differences is that Svelte pretty much handles all the DOM work, while D3 is used under the hood for things like scales and shape generating etc.</p><figure class="svelte-1cb9hdq"><svg viewBox="-200 -120 400 240"><g transform="translate(-50,0)"><circle class="enter--fill svelte-1cb9hdq" r="100" style="mix-blend-mode:multiply"></circle><text x="0" y="-110" text-anchor="middle" class="svelte-1cb9hdq">New Data</text><text x="-80" text-anchor="start" class="svelte-1cb9hdq">Enter</text></g><g transform="translate(50,0)"><circle class="exit--fill svelte-1cb9hdq" r="100" style="mix-blend-mode:multiply"></circle><text x="5" y="-110" text-anchor="middle" class="svelte-1cb9hdq">Existing Elements</text><text x="80" text-anchor="end" class="svelte-1cb9hdq">Exit</text></g><text class="update svelte-1cb9hdq" x="0" text-anchor="middle">Update</text></svg><figcaption class="svelte-1cb9hdq">From Mike Bostock&#39;s Observable notebook <a href="https://observablehq.com/@d3/learn-d3-joins?collection=@d3/learn-d3" target="_blank">Learn D3: Joins</a></figcaption></figure><p>Some default svelte transitions</p><p>WTF to use?</p><ul><li><strong>Actions</strong> are functions that are called when an element is created. They can return an object with a <em>destroy</em> method that is called after the element is unmounted. An action can have parameters. If the returned value has an <em>update</em> method, it will be called whenever those parameters change, immediately after Svelte has applied updates to the markup. <mark>Pro: good for enter/update, exit completion.</mark> <mark>Con: no exit, no built in timing</mark></li><li>A <strong>transition</strong> is triggered by an element entering or leaving the DOM as a result of a state change. When a block is transitioning out, all elements inside the block, including those that do not have their own transitions, are kept in the DOM until every transition in the block has completed. The transition: directive indicates a bidirectional transition, which means it can be smoothly reversed while the transition is in progress. <mark>Pro: good for enter/exit, built in timing</mark> <mark>Con: no update</mark></li><li>An <strong>animation</strong> is triggered when the contents of a keyed each block are re-ordered. Animations do not run when an element is removed, only when the each block&#39;s data is reordered. Animate directives must be on an element that is an immediate child of a keyed each block. Animations can be used with Svelte&#39;s built-in animation functions or custom animation functions. <mark>Pro: good update (only if array order changes though), built in timing </mark><mark>Con: no enter/exit, ignores updates on data in same spot</mark></li><li><strong>Tweened</strong> stores update their values over a fixed duration. <em>store.set</em> and <em>store.update</em> can accept a second options argument that will override the options passed in upon instantiation. Both functions return a Promise that resolves when the tween completes. If the tween is interrupted, the promise will never resolve. Out of the box, Svelte will interpolate between two numbers, two arrays or two objects (as long as the arrays and objects are the same &#39;shape&#39;, and their &#39;leaf&#39; properties are also numbers). <mark>Pro: Seems like this can be an aid for the join stuff from above</mark></li><li><strong>D3.</strong> Use all or parts of its methods. The more D3 we use the less svelte-y it is though. Perhaps relying on its transition capabilities mixed in with some of the dom detection stuff mentioned above.</li></ul><h3 class="svelte-xvg7bn">Soup Preference Rating (1 - 10)</h3><div class="toggle svelte-xvg7bn"><button class="svelte-xvg7bn active">Russell</button> <button class="svelte-xvg7bn">Amelia</button></div><svg width="280" height="160" class="svelte-xvg7bn"><g transform="translate(16, 24)"><g transform="translate(0, 0)"><rect x="0" y="0" width="220.44444444444443" height="14" class="svelte-xvg7bn"></rect><text alignment-baseline="top" x="0" y="-4" class="svelte-xvg7bn">Broccoli Cheddar (8)</text></g><g transform="translate(0, 76)"><rect x="0" y="0" width="55.11111111111111" height="14" class="svelte-xvg7bn"></rect><text alignment-baseline="top" x="0" y="-4" class="svelte-xvg7bn">Chili (2)</text></g><g transform="translate(0, 38)"><rect x="0" y="0" width="192.88888888888889" height="14" class="svelte-xvg7bn"></rect><text alignment-baseline="top" x="0" y="-4" class="svelte-xvg7bn">Clam Chowder (7)</text></g></g></svg></section></main><script type="text/javascript" src="build/bundle.js" defer="defer"></script></body></html>